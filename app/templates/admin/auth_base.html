{% extends "admin/base.html" %}

{% block body_class %}bg-gradient-to-br from-gray-900 to-gray-800 min-h-screen flex items-center justify-center p-4{%
endblock %}

{% block content %}
<div class="auth-container">
    <div class="auth-header">
        <div class="logo-section">
            <div class="logo">
                <img src="/static/images/logo/transLogo.png" alt="TACCI Logo">
            </div>
            <h1 class="auth-title">{% block auth_title %}{% endblock %}</h1>
            <p class="auth-subtitle">{% block auth_subtitle %}{% endblock %}</p>
        </div>
    </div>

    <div class="auth-body">
        <!-- Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="flash-messages">
            {% for category, message in messages %}
            <div class="alert alert-{{ 'success' if category == 'success' else 'error' }} mb-4">
                <div class="alert-content">
                    <i class="fas fa-{{ 'check-circle' if category == 'success' else 'exclamation-circle' }} mr-2"></i>
                    {{ message }}
                </div>
                <button type="button" class="alert-close" onclick="this.parentElement.remove()">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            {% endfor %}
        </div>
        {% endif %}
        {% endwith %}

        {% block auth_content %}{% endblock %}
    </div>
</div>

<style>
    .flash-messages {
        margin-bottom: 1rem;
    }

    .alert {
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0.75rem 1rem;
        border-radius: 8px;
        font-size: 0.9rem;
        font-weight: 500;
    }

    .alert-success {
        background-color: #d1fae5;
        color: #065f46;
        border: 1px solid #a7f3d0;
    }

    .alert-error {
        background-color: #fee2e2;
        color: #991b1b;
        border: 1px solid #fca5a5;
    }

    .alert-content {
        display: flex;
        align-items: center;
    }

    .alert-close {
        background: none;
        border: none;
        cursor: pointer;
        padding: 0.25rem;
        color: inherit;
        opacity: 0.7;
        transition: opacity 0.2s;
    }

    .alert-close:hover {
        opacity: 1;
    }
</style>

<script>
    // Auto-hide flash messages after 5 seconds
    document.addEventListener('DOMContentLoaded', function () {
        const alerts = document.querySelectorAll('.alert');
        alerts.forEach(alert => {
            setTimeout(() => {
                alert.style.transition = 'opacity 0.5s ease';
                alert.style.opacity = '0';
                setTimeout(() => alert.remove(), 500);
            }, 5000);
        });
    });
</script>
{% endblock %}